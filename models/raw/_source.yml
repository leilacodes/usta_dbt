version: 2

sources:
  - name: usta
    description: Data scraped from USTA website in 2019 using deprecated script
    database: raw
    schema: usta
    tables:
    - name: player_results
      description: Player match records from 2013 - mid-2019
      freshness: 
       warn_after: {count: 365, period: day}
      loaded_at_field: match_date
      columns:
       - name: ROW_ID
         description: Row ID unique to scraping job (meaningless outside of the import context)
       - name: ID
         description: Deprecated - match ID
       - name: MATCH_DATE
         description: Match date
       - name: MATCH_TYPE
         description: Type of match
         tests:
          - not_null
          - accepted_values:
              values: ['doubles', 'singles']
       - name: WON
         description: Binary (1=Won, -1=Lost)
       - name: WINNER1
         description: Text string of winner name
       - name: WINNER2
         description: Text string of winner name
       - name: LOSER1
         description: Text string of winner name
       - name: LOSER2
         description: Text string of winner name
       - name: SCORE
         description: Text string of match score
       - name: LEVEL
         description: Deprecated (inaccurate) - NTRP level
       - name: CUM_SUM
         description: Deprecated - cumulative sum of WON